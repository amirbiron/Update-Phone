# פקודות מנהל - Admin Commands

## הגדרת מנהלים

כדי להגדיר מנהלים, יש להוסיף את ה-Telegram ID שלהם למשתנה הסביבה `ADMIN_CHAT_IDS`:

```env
ADMIN_CHAT_IDS=123456789,987654321
```

## איך למצוא את ה-Telegram ID שלך

1. שלח הודעה לבוט @userinfobot
2. הבוט יחזיר לך את ה-ID שלך
3. או השתמש בפקודה `/recent_users` כדי לראות את ה-ID של משתמשים פעילים

## פקודות מנהל זמינות

### 1. איפוס מכסת שאילתות למשתמש

```
/reset_queries [USER_ID]
```

**דוגמה:**
```
/reset_queries 123456789
```

**מה זה עושה:**
- מאפס את מכסת השאילתות של המשתמש ל-0
- המשתמש יכול שוב לבצע 30 שאילתות
- עובד רק עבור מנהלים שמוגדרים ב-`ADMIN_CHAT_IDS`

### 2. רשימת משתמשים פעילים

```
/recent_users
```

**מה זה עושה:**
- מציג רשימה של משתמשים שהיו פעילים בשבוע האחרון
- כולל את ה-ID של כל משתמש (לשימוש עם `/reset_queries`)
- מציג כמה שאילתות כל משתמש ביצע החודש

## דוגמת שימוש מלאה

1. **מצא את ה-ID של המשתמש:**
   ```
   /recent_users
   ```
   
   תקבל משהו כמו:
   ```
   📊 משתמשים פעילים בשבוע האחרון: 2

   1. יוסי @yossi_user
      📅 פעילות אחרונה: 15/12/2024, 14:30:25
      🔢 שאילתות החודש: 30/30
      🆔 ID: 123456789
   ```

2. **אפס את המכסה:**
   ```
   /reset_queries 123456789
   ```
   
   תקבל אישור:
   ```
   ✅ מכסת השאילתות אופסה בהצלחה עבור משתמש 123456789.
   המשתמש יכול עכשיו לבצע 30 שאילתות חדשות.
   ```

## הודעות שגיאה

- `❌ אין לך הרשאות מנהל לביצוע פעולה זו.` - אתה לא מוגדר כמנהל
- `❌ נא לציין ID של המשתמש לאיפוס.` - לא ציינת ID
- `❌ ID המשתמש חייב להיות מספר.` - ה-ID לא תקין
- `❌ משתמש עם ID [ID] לא נמצא במערכת.` - המשתמש לא קיים

## אבטחה

- רק משתמשים שמוגדרים ב-`ADMIN_CHAT_IDS` יכולים להשתמש בפקודות מנהל
- כל פעולת מנהל נרשמת ב-logs
- אין אפשרות לבצע פעולות מנהל ללא הרשאות מתאימות